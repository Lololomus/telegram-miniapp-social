/* css/style.css */

/* Импортируем базовые стили (должны быть первыми) */
@import url('base.css');
/* (ИЗМЕНЕНИЕ) Импорт tags.css переименован для ясности */
@import url('components/tags.css'); 
/* Импортируем стили компонентов/экранов */
@import url('form.css');
@import url('profile.css');
@import url('feed.css');
@import url('settings.css');
@import url('modals.css');
@import url('animations.css');
/* ------------------------ */

/* --- СТИЛИ СПИННЕРА (остаются) --- */
.spinner {
    border: 4px solid var(--secondary-bg-color, #f3f3f3);
    border-top-color: var(--main-button-color, #3390ec);
    border-radius: 50%; width: 30px; height: 30px; position: fixed;
    top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1001;
    margin: 0; animation: spin 1s linear infinite; display: none;
}
@keyframes spin { 0% { transform: translate(-50%, -50%) rotate(0deg); } 100% { transform: translate(-50%, -50%) rotate(360deg); } }


/* --- ПЕРЕОПРЕДЕЛЕНИЕ ТЕМ (остаются) --- */
body.theme-light {
    --main-bg-color: #ffffff;
    --secondary-bg-color: #efefef;
    --main-text-color: #000000;
    --main-hint-color: #999999;
    --main-link-color: #007aff;
    --main-button-color: #007aff;
    --main-button-text-color: #ffffff;
    --main-hint-opacity: 1;
}
/* (ИЗМЕНЕНИЕ) Добавляем .theme-glass-overlay сюда, 
   чтобы "Стекло" наследовало цвета темной темы */
body.theme-dark {
    --main-bg-color: #1c1c1d;
    --secondary-bg-color: #2c2c2e;
    --main-text-color: #ffffff;
    --main-hint-color: #98989e;
    --main-link-color: #0a84ff;
    --main-button-color: #0a84ff;
    --main-button-text-color: #ffffff;
    --main-hint-opacity: 1;
}
body.theme-dark .action-button.secondary { background-color: #2c2c2e; color: #0a84ff; }
body.theme-dark .theme-option-button.active { background-color: #0a84ff; color: #ffffff; }
body.theme-dark .icon-button { border: 1.5px solid #2c2c2e; }
body.theme-dark .header-button { background-color: #2c2c2e; color: #0a84ff; }
body.theme-dark .theme-option-button { border-color: #2c2c2e; }
body.theme-custom {
    --main-bg-color: var(--custom-bg-color);
    --secondary-bg-color: var(--custom-secondary-bg-color);
    --main-button-color: var(--custom-button-color);
    --main-button-text-color: var(--custom-button-text-color);
    --main-text-color: var(--custom-text-color);
    --main-link-color: var(--custom-text-color);
    --main-hint-color: var(--custom-text-color);
    --main-hint-opacity: 0.7;
}
body.theme-dark .spinner, body.theme-custom .spinner {
    border-color: var(--secondary-bg-color);
    border-top-color: var(--main-button-color);
}
body.theme-custom .theme-option-button { border-color: var(--secondary-bg-color); }
body.theme-custom .icon-button { border-color: var(--secondary-bg-color); }
body.theme-custom .header-button { background-color: var(--secondary-bg-color); color: var(--main-button-color); }

/* --- (НОВЫЙ БЛОК) "Рецепты" для "Стекла" --- */

/* 1. Рецепт для СВЕТЛОЙ темы */
body.theme-light.theme-glass-overlay {
    --glass-bg: rgba(255, 255, 255, 0.45);
    --glass-bg-secondary: rgba(255, 255, 255, 0.3);
    --glass-bg-input: rgba(255, 255, 255, 0.25);
    --glass-border: 1px solid rgba(255, 255, 255, 0.6);
    --glass-shadow: 0 4px 12px rgba(0,0,0,0.05);
    --glass-radius-main: 20px;
    --glass-radius-nested: 16px;
    
    /* ✅ ИСПРАВЛЕНИЕ (Glass): Фоллбэки для iOS (без размытия) */
    --glass-bg-ios-fallback: rgba(255, 255, 255, 0.85);
    --glass-bg-ios-fallback-secondary: rgba(255, 255, 255, 0.65);
}

/* 2. Рецепт для ТЕМНОЙ темы */
body.theme-dark.theme-glass-overlay {
    --glass-bg: rgba(44, 44, 46, 0.4); /* 2c2c2e + alpha */
    --glass-bg-secondary: rgba(44, 44, 46, 0.3);
    --glass-bg-input: rgba(44, 44, 46, 0.2);
    --glass-border: 1px solid rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 6px 20px rgba(0,0,0,0.2);
    --glass-radius-main: 20px;
    --glass-radius-nested: 16px;

    /* ✅ ИСПРАВЛЕНИЕ (Glass): Фоллбэки для iOS (без размытия) */
    --glass-bg-ios-fallback: rgba(44, 44, 46, 0.85);
    --glass-bg-ios-fallback-secondary: rgba(44, 44, 46, 0.7);
}
/* --- КОНЕЦ НОВОГО БЛОКА --- */